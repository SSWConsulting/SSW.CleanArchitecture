{"pageProps":{"projectName":"SSW Clean Architecture Template","currentAdr":{"slug":"20240219-revisit-openapi-document-generation","package":null,"title":"Revisit OpenAPI document generation","status":"accepted","supersededBy":null,"tags":["api","openapi"],"deciders":["Daniel M","William L","Matt W"],"body":{"enhancedMdx":"\nTechnical Story: https://github.com/SSWConsulting/SSW.CleanArchitecture/issues/202\n\n## Context and Problem Statement\n\nWe are not generating client side code anymore (which was one of the reasons we were using NSwag). Now that we are only generating the OpenAPI Spec, is it better to use NSwag or Swashbuckle to generate the spec.\nWe still want an API UI\nCheck with @matt-goldman , @drwharris , Alex Rothwell on feedback/opinions around this\nEnum generation needs to also be considered as this is often a painpoint\n\n## Decision Drivers <!-- optional -->\n\n- Extensibility\n- Compatibility\n- Project activity\n\n## Considered Options\n\n1. NSwag + NSwag.MSBuild\n1. Swashbuckle\n1. NSwag (runtime only)\n\n## Decision Outcome\n\nChosen option: \"NSwag (runtime only)\", because the NSwag repo is more active than the Swashbuckle one. The removal of NSwag.MSBuild also improved build times. \n\n### Consequences <!-- optional -->\n\n- ✅ Clients that generate code can use nswag to generate their own code with a nice enum experience\n\n## Pros and Cons of the Options <!-- optional -->\n\n### OPTION 1: NSwag + NSwag.MSBuild\n\nLeave as is.\n\n- ✅ Nothing to change\n- ✅ `specification.json` is served as a static file = performance\n- ✅ Project is actively developed\n- ❌ Slower build times\n- ❌ We aren't generating clients as part of the API - no benefit to the msbuild step\n- ❌ `nswag.config` doesn't have great documentation (or a schema)\n\n### OPTION 2: Swashbuckle\n\nThis is the one included with the .NET templates\n\n- ✅ Included in the templates\n- ❌ Doesn't support DateOnly/TimeOnly OOTB - need [extra package ](https://github.com/maxkoshevoi/DateOnlyTimeOnly.AspNet). What other packages will we need?\n- ❌ Last commit on repo 2023-01-11 (13 months ago)\n- ❌ Repo owner cannot justify spending time on the project - https://github.com/domaindrivendev/Swashbuckle.AspNetCore/issues/2759#issuecomment-1936136992\n\n### OPTION 3: NSwag (runtime only)\n\nSame as option 1 but without MSBuild step\n\n- ✅ Minimal changes to repo - less code\n- ✅ Faster build times than option 1\n- ✅ Project is actively developed\n- ✅ No need for `nswag.json` - adds confusion as it doesn't have great documentation (or a schema)\n- ❌ Now serving a runtime generated file instead of a static file\n- ❌ NSwag still uses Newtonsoft.Json internally - although it is moving to System.Text.Json in the next major version v15\n\n\n"},"creationDate":"2024-02-20T05:46:00.000Z","lastEditDate":"2024-02-20T05:46:00.000Z","lastEditAuthor":"Matt Wicks [SSW]","publicationDate":"2024-02-19T12:59:59.000Z","file":{"relativePath":"docs/adr/20240219-revisit-openapi-document-generation.md","absolutePath":"/home/runner/work/SSW.CleanArchitecture/SSW.CleanArchitecture/docs/adr/20240219-revisit-openapi-document-generation.md"},"repository":{"provider":"github","viewUrl":"https://github.com/SSWConsulting/SSW.CleanArchitecture/blob/master/docs/adr/20240219-revisit-openapi-document-generation.md"}},"l4bVersion":"1.1.0"},"__N_SSG":true}